<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Assembler</title>
	<link rel="stylesheet" href="styles.css">
	<script src="func.js"></script>
	<script src="index.js" defer></script>
</head>
<body>
	<div class="row">
		<h1>Assembler</h1>
		<button onclick="runAssembler()">Assemble</button>
		<button onclick="copyToClipboard()" id="cpyBtn">Copy</button>
	</div>
	<div class="rowContainer">
		<div id="code" class="editor"></div>
		<div id="view" class="editor"></div>
	</div>
	<div id="machine" class="editor"></div>

	<script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>
	<script>
		require.config({ paths: { 'vs': 'https://unpkg.com/monaco-editor@latest/min/vs' }});
		window.MonacoEnvironment = { getWorkerUrl: () => proxy };
		let proxy = URL.createObjectURL(new Blob([`
			self.MonacoEnvironment = {
				baseUrl: 'https://unpkg.com/monaco-editor@latest/min/'
			};
			importScripts('https://unpkg.com/monaco-editor@latest/min/vs/base/worker/workerMain.js');
		`], { type: 'text/javascript' }));
		require(["vs/editor/editor.main"], function () {
			codeEditor = monaco.editor.create(document.getElementById('code'), {
				language: 'plaintext',
				renderWhitespace: 'boundary',
				tabSize: 4,
				theme: 'vs-dark'
			});
			viewEditor = monaco.editor.create(document.getElementById('view'), {
				language: 'plaintext',
				readOnly: true,
				theme: 'vs-dark'
			});
			machineEditor = monaco.editor.create(document.getElementById('machine'), {
				language: 'c',
				value: ["int program[] = {};"].join("\n"),
				readOnly: true,
				theme: 'vs-dark'
			});
		});
	</script>
</body>
</html>
